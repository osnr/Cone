<html>
  <body>
    <div id="out"></div>
    <script>
     async function getCamera() {
       // Prefer camera resolution nearest to 1280x720 - just as calibdb does
       let constraints = { audio: false, video: { width: 1280, height: 720, facingMode: "environment", resizeMode: "none" } }

       let mediaStream = await navigator.mediaDevices.getUserMedia(constraints)
       const track = mediaStream.getVideoTracks()[0]
       const cfg = track.getSettings()

       return [track.label, [cfg.width, cfg.height]]
     }
     getCamera().then(args => {
       document.getElementById("out").innerText = JSON.stringify(args);
     });

     // On laptop:
     // TODO: Generate QR code of self?
     // TODO: Allow specifying physical size of QR code

     // TODO: Neeed to run on https to get camera access?

     // Run QR code detector, localize-ish, produce cone

     // Get accelerometer

     // TODO: Connect websocket
     // - on laptop
     // - on phone
    </script>
  </body>
</html>
